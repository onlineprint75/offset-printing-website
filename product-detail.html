<!DOCTYPE html>
<html lang="mn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Офсет Хэвлэл - Нэрийн хуудас</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <header>
        <div class="container" style="width: 100%; display: flex; justify-content: space-between; align-items: center;">
            <a href="index.html" class="logo">
                <img src="assets/images/logo.png" alt="OFFSET PRINT Logo">
            </a>

            <div class="header-right">
                <div class="nav-pill">
                    <ul>
                        <li><a href="index.html" data-i18n="nav-home">Нүүр</a></li>
                        <li><a href="about.html" data-i18n="nav-about">Бидний тухай</a></li>
                        <li><a href="inventory.html" data-i18n="nav-inventory">Бараа материал</a></li>
                        <li><a href="quote.html" class="active" data-i18n="nav-quote">Үнийн санал авах</a></li>
                        <li><a href="contact.html" data-i18n="nav-contact">Холбоо барих</a></li>
                    </ul>
                    <a href="quote.html" class="btn-pill" data-i18n="nav-quote">Үнийн санал авах</a>
                </div>

                <div class="support-info">
                    <span class="phone">7575-8575</span>
                    <span class="label" data-i18n="support-text">Хэрэглэгчийн туслах</span>
                </div>

                <div class="lang-switcher" id="lang-switcher">
                    <div class="lang-btn" id="lang-btn">
                        <img src="https://flagcdn.com/w20/mn.png" id="current-lang-flag">
                        <span id="current-lang-name">Монгол</span>
                        <i class="fas fa-chevron-down" style="font-size: 0.7rem; margin-left: 5px;"></i>
                    </div>
                    <div class="lang-dropdown" id="lang-dropdown">
                        <div class="lang-option active" data-lang="mn">
                            <img src="https://flagcdn.com/w20/mn.png"> Монгол
                        </div>
                        <div class="lang-option" data-lang="en">
                            <img src="https://flagcdn.com/w20/gb.png"> English
                        </div>
                        <div class="lang-option" data-lang="zh">
                            <img src="https://flagcdn.com/w20/cn.png"> 中文
                        </div>
                    </div>
                </div>
            </div>

            <button class="menu-toggle" id="menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        <div class="menu-overlay" id="menu-overlay"></div>
        <script src="translations.js"></script>
        <script>
            // Mobile Menu Toggle
            const menuToggle = document.getElementById('menu-toggle');
            const navMenu = document.querySelector('.header-right');
            const menuOverlay = document.getElementById('menu-overlay');

            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                menuOverlay.classList.toggle('active');
            });

            menuOverlay.addEventListener('click', () => {
                navMenu.classList.remove('active');
                menuOverlay.classList.remove('active');
            });

            // Language Switcher Logic
            const langBtn = document.getElementById('lang-btn');
            const langDropdown = document.getElementById('lang-dropdown');
            const langOptions = document.querySelectorAll('.lang-option');

            langBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                langDropdown.classList.toggle('active');
            });

            document.addEventListener('click', () => {
                langDropdown.classList.remove('active');
            });

            langOptions.forEach(opt => {
                opt.addEventListener('click', () => {
                    const lang = opt.getAttribute('data-lang');
                    const flag = opt.querySelector('img').src;
                    const name = opt.textContent.trim();

                    document.getElementById('current-lang-flag').src = flag;
                    document.getElementById('current-lang-name').textContent = name;

                    setLanguage(lang);
                    langDropdown.classList.remove('active');
                });
            });

            // Initialize correct flag/name on load
            window.addEventListener('load', () => {
                const savedLang = localStorage.getItem('preferred-lang') || 'mn';
                const activeOpt = document.querySelector(`.lang-option[data-lang="${savedLang}"]`);
                if (activeOpt) {
                    document.getElementById('current-lang-flag').src = activeOpt.querySelector('img').src;
                    document.getElementById('current-lang-name').textContent = activeOpt.textContent.trim();
                }
            });
        </script>
    </header>

    <main style="padding-top: var(--header-height);">
        <section class="product-detail-section">
            <div class="container">
                <nav class="breadcrumb">
                    <a href="index.html" data-i18n="nav-home">Нүүр</a>
                    <span>/</span>
                    <a href="quote.html" data-i18n="nav-quote">Үнийн санал авах</a>
                    <span>/</span>
                    <span data-i18n="product-name-card">Нэрийн хуудас</span>
                </nav>
            </div>
            <div class="container product-detail-container">
                <!-- Left: Image Gallery -->
                <div class="product-gallery">
                    <div class="main-image">
                        <img src="assets/images/business_card.jpg" id="current-main-img" alt="Business Card Detail">
                    </div>
                    <div class="thumbnail-grid">
                        <div class="thumb active" onclick="changeImage('assets/images/business_card.jpg', this)">
                            <img src="assets/images/business_card.jpg" alt="Thumbnail 1">
                        </div>
                        <div class="thumb" onclick="changeImage('assets/images/business_card_2.jpg', this)">
                            <img src="assets/images/business_card_2.jpg" alt="Thumbnail 2">
                        </div>
                        <div class="thumb" onclick="changeImage('assets/images/business_card_3.jpg', this)">
                            <img src="assets/images/business_card_3.jpg" alt="Thumbnail 3">
                        </div>
                    </div>
                </div>

                <!-- Right: Product Quote Form -->
                <div class="product-form-card">
                    <h2 data-i18n="product-name-card">Нэрийн хуудас</h2>
                    <form id="quote-form" class="detail-form">
                        <div class="form-group">
                            <label data-i18n="form-format">Хэмжээ</label>
                            <select name="format">
                                <option data-i18n="form-format-std1">Стандарт (90×55мм)</option>
                                <option data-i18n="form-format-std2">Стандарт (85×55мм)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label data-i18n="form-quantity">Тоо ширхэг</label>
                            <select name="quantity">
                                <option>300</option>
                                <option>500</option>
                                <option>1000</option>
                                <option>5000</option>
                                <option>10000</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label data-i18n="form-paper">Цаасны төрөл</label>
                            <select name="paper">
                                <option>300 (гр)</option>
                                <option>Арт 300 (гр)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label data-i18n="form-prepress">Эх бэлтгэл байгаа эсэх</label>
                            <select name="prepress">
                                <option data-i18n="form-yes">Тийм</option>
                                <option data-i18n="form-no">Үгүй</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label data-i18n="form-coating">Бүрэлтний төрөл</label>
                            <select name="coating">
                                <option data-i18n="form-coating-none">Бүрэлтгүй</option>
                                <option data-i18n="form-coating-matte">Матт бүрэлттэй</option>
                                <option data-i18n="form-coating-glossy">Гялгар бүрэлттэй</option>
                                <option data-i18n="form-coating-suede">Илгэн бүрэлттэй</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label data-i18n="form-delivery-date">Хүлээн авах хугацаа</label>
                            <input type="date" name="delivery_date" required>
                        </div>

                        <div class="form-group">
                            <label data-i18n="form-print-type">Хэвлэлийн төрөл</label>
                            <select name="print_type">
                                <option data-i18n="form-print-offset">Оффсет хэвлэл</option>
                            </select>
                        </div>

                        <div class="form-checkbox-group">
                            <label class="checkbox-container">
                                <input type="checkbox" name="spot_uv">
                                <span class="checkmark"></span>
                                <span data-i18n="form-spot-uv">Хэсэгчилсэн лактай ( товгор, гялалзана )</span>
                            </label>
                        </div>

                        <div class="form-checkbox-group">
                            <label class="checkbox-container">
                                <input type="checkbox" name="foil">
                                <span class="checkmark"></span>
                                <span data-i18n="form-foil">Клиши даралттай ( металл өнгө )</span>
                            </label>
                        </div>

                        <div class="form-group">
                            <label data-i18n="form-notes">Тэмдэглэл</label>
                            <textarea name="notes" rows="3"></textarea>
                        </div>


                        <button type="submit" class="btn btn-primary submit-order-btn"
                            data-i18n="form-send-order">Захиалга илгээх</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <!-- Footer content integrated from index.html -->
        <div class="footer-content">
            <div class="footer-col">
                <h4 data-i18n="footer-company">Продакт Принтинг Монголиа ХХК</h4>
                <p data-i18n="footer-services">Офсет хэвлэлийн үйлчилгээ</p>
                <div class="social-links">
                    <h5 data-i18n="footer-follow">Биднийг дагаарай</h5>
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                </div>
            </div>
            <div class="footer-col" id="footer-contact-info">
                <h4 data-i18n="footer-contact">Холбоо барих</h4>
                <ul>
                    <li><i class="fas fa-phone"></i> 75758575</li>
                    <li><i class="fas fa-phone"></i> 80552222</li>
                    <li><i class="fas fa-phone"></i> 99906069</li>
                    <li><i class="fas fa-phone"></i> 80038228</li>
                    <li><i class="fas fa-envelope"></i> <span data-i18n="footer-email">info@ppm32.mn</span></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4 data-i18n="footer-location">Байршил</h4>
                <ul>
                    <li>
                        <i class="fas fa-map-marker-alt"></i>
                        <span data-i18n="footer-address">Улаанбаатар хот, Сүхбаатар дүүрэг, 12-р хороо, 32-ын тойрог,
                            Номин супермаркетийн зүүн талд, Үйлдвэрийн байр</span>
                    </li>
                </ul>
            </div>
            <div class="footer-col">
                <h4 data-i18n="footer-hours">Ажлын цаг</h4>
                <ul>
                    <li><i class="fas fa-clock"></i> <span data-i18n="footer-mon-fri">Даваа-Баасан: 08:00 - 17:00</span>
                    </li>
                    <li><i class="fas fa-clock"></i> <span data-i18n="footer-sat">Бямба: 10:00 - 15:00</span></li>
                    <li><i class="fas fa-clock"></i> <span data-i18n="footer-sun">Ням: Амрана</span></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p data-i18n="footer-rights">© 2025 Product Printing. Бүх эрх хуулиар хамгаалагдсан.</p>
            <div class="footer-bottom-links">
                <a href="#" data-i18n="footer-privacy">Нууцлалын бодлого</a>
            </div>
        </div>
    </footer>

    <div id="order-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="modal-title">Захиалга илгээх</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <form id="contact-form-modal">
                    <div class="form-group">
                        <label data-i18n="modal-name">Нэр *</label>
                        <input type="text" name="contact_name" data-i18n-placeholder="modal-name-placeholder"
                            placeholder="Таны нэр" required>
                    </div>
                    <div class="form-group">
                        <label data-i18n="modal-email">Имэйл *</label>
                        <input type="email" name="contact_email" data-i18n-placeholder="modal-email-placeholder"
                            placeholder="example@email.com" required>
                    </div>
                    <div class="form-group">
                        <label data-i18n="modal-phone">Утасны дугаар *</label>
                        <input type="tel" name="contact_phone" data-i18n-placeholder="modal-phone-placeholder"
                            placeholder="+976 9999 9999" required>
                    </div>
                    <div class="form-group">
                        <label data-i18n="modal-company">Компани</label>
                        <input type="text" name="contact_company" data-i18n-placeholder="modal-company-placeholder"
                            placeholder="Компанийн нэр (сонголттой)">
                    </div>
                    <div class="form-group">
                        <label data-i18n="modal-delivery">Хүргэлтийн арга</label>
                        <select name="delivery_method">
                            <option value="pickup" data-i18n="modal-delivery-pickup">Оффисоос авах</option>
                            <option value="delivery" data-i18n="modal-delivery-delivery">Хүргүүлэх</option>
                        </select>
                    </div>

                    <div class="order-summary-box">
                        <h4 data-i18n="modal-summary-title">Захиалгын дэлгэрэнгүй:</h4>
                        <div class="summary-item">
                            <strong data-i18n="modal-product">Бүтээгдэхүүн:</strong> <span id="summary-product"></span>
                        </div>
                        <div class="summary-item">
                            <strong data-i18n="modal-print-type">Хэвлэлийн төрөл:</strong> <span
                                id="summary-print-type"></span>
                        </div>
                        <div class="summary-item">
                            <strong data-i18n="modal-format">Хэмжээ:</strong> <span id="summary-format"></span>
                        </div>
                        <div class="summary-item">
                            <strong data-i18n="modal-paper">Цаасны төрөл:</strong> <span id="summary-paper"></span>
                        </div>
                        <div class="summary-item">
                            <strong data-i18n="modal-coating">Бүрэлт:</strong> <span id="summary-coating"></span>
                        </div>
                        <div class="summary-item">
                            <strong data-i18n="modal-quantity">Тоо ширхэг:</strong> <span id="summary-quantity"></span>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary submit-final-btn" data-i18n="form-send-order">Захиалга
                        илгээх</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        function changeImage(src, el) {
            document.getElementById('current-main-img').src = src;
            document.querySelectorAll('.thumb').forEach(t => t.classList.remove('active'));
            el.classList.add('active');
        }

        // Initialize translations
        document.addEventListener('DOMContentLoaded', () => {
            const savedLang = localStorage.getItem('preferred-lang') || 'mn';
            if (typeof setLanguage === 'function') {
                setLanguage(savedLang);
            }

            // Modal Logic
            const modal = document.getElementById('order-modal');
            const mainForm = document.getElementById('quote-form');
            const closeModal = document.querySelector('.close-modal');
            const modalForm = document.getElementById('contact-form-modal');

            // Open Modal and Populate Data
            mainForm.addEventListener('submit', (e) => {
                e.preventDefault();

                // Get form values
                const formData = new FormData(mainForm);

                // Helper to get text from select option
                const getText = (name) => {
                    const select = mainForm.querySelector(`[name="${name}"]`);
                    if (select && select.tagName === 'SELECT') {
                        return select.options[select.selectedIndex].text;
                    }
                    return formData.get(name);
                };

                // Populate Summary
                document.getElementById('summary-product').textContent = document.querySelector('h2[data-i18n="product-name-card"]').textContent;
                document.getElementById('summary-print-type').textContent = getText('print_type');
                document.getElementById('summary-format').textContent = getText('format');
                document.getElementById('summary-paper').textContent = getText('paper');
                document.getElementById('summary-coating').textContent = getText('coating');
                document.getElementById('summary-quantity').textContent = getText('quantity');

                modal.classList.add('active');
            });

            // Close Modal
            closeModal.addEventListener('click', () => {
                modal.classList.remove('active');
            });

            window.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });

            // Final Submit
            modalForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const btn = modalForm.querySelector('.submit-final-btn');
                const originalText = btn.textContent;

                btn.textContent = 'Sending...';
                btn.disabled = true;

                // Simulate API call
                setTimeout(() => {
                    alert('Order sent successfully!');
                    modal.classList.remove('active');
                    btn.textContent = originalText;
                    btn.disabled = false;
                    modalForm.reset();
                }, 1500);
            });
        });
    </script>
</body>

</html>